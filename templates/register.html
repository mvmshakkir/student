<!-- <!DOCTYPE html>
<html>
<head>
    <title>Student Registration</title>
</head>
<body>
    <h1>Student Registration Form</h1>
    
        <label >Name:</label><br>
        <input type="text" id="name" name="name"><br><br>
        <label >Department:</label><br>
        <input type="text" id="department" name="department"><br><br>
        <label >Father Name:</label><br>
        <input type="text" id="father_name" name="father_name"><br><br>
        <label >Place:</label><br>
        <input type="text" id="place" name="place"><br><br>
        <label >Mobile:</label><br>
        <input type="text" id="mobile" name="mobile"><br><br>
        <label >Email:</label><br>
        <input type="text" id="email" name="email"><br><br>
        <label >Password:</label><br>
        <input type="text" id="password" name="password"><br><br>
        
        <label >Confirm Password:</label><br>
        <input type="text" id="conform_password" name="conform_password"><br><br>
        
        <button onclick="registerStudent()">Register</button>
    </body>
    </html> -->
    
    <html>
        <head>
            <link rel="stylesheet" href="/static/register.css">
        </head>
    
   
    <div class="background-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;">
    <img src="/static/school.jpg" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.5;" />
</div>
<div class="form_wrapper">
  <div class="form_container">
    <div class="title_container">
      <h2>Login</h2>
    </div>
    <div class="row clearfix">
      <div class="">
       
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-envelope"></i></span>
            <label for="">Name</label>
            <input type="text" name="name" id="name"  required>
          </div>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Department</label>
            <input type="text" id="department" name="department" p required />
          </div>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Father name</label>
            <input type="text" id="father_name" name="father_name"  required />
          </div>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Place</label>
            <input type="text" id="place" name="place"  required />
          </div>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Mobile</label>
            <input type="text" id="mobile" name="mobile" required />
          </div><div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Email</label>
            <input type="text" id="email" name="email"  required />
          </div><div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Password</label>
            <input type="text" id="password" name="password"  required />
          </div>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-lock"></i></span>
            <label>Conform password</label>
            <input type="text" id="conform_password" name="conform_password"  required />
          </div>
          <div>
            <input class="button-success" type="submit" onclick="registerStudent()" value="Register" style="background-color: rgb(54, 218, 125);height: 35px;"/>
          </div>
          </div>
            	
    
        
      </div>
    </div>
  </div>
</div>
<!-- <p class="credit">Developed by <a href="http://www.designtheway.com" target="_blank">Design the way</a></p> -->
</body>
</html>
        <script>
            async function registerStudent() {
                const name = document.getElementById('name').value;
                const department = document.getElementById('department').value;
                const father_name = document.getElementById('father_name').value;
                const place = document.getElementById('place').value;
                const mobile = document.getElementById('mobile').value;
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                const conform_password = document.getElementById('conform_password').value;
                if (name === '' || department === '' || father_name === '' || place === '' || mobile === '' || email === '' || password === '' || conform_password === '') {
            alert('Please fill in all fields');
            return;
        }

        // Validate email format
        const emailRegex = /^\S+@\S+\.\S+$/;
        if (!emailRegex.test(email)) {
            alert('Please enter a valid email address');
            return;
        }

        // Validate password match
        if (password !== conform_password) {
            alert('Passwords do not match');
            return;
        }
                const data = {
                    name,
                    department,
                    father_name,
                    place,
                    mobile,
                    email,
                    password,
                    conform_password
                };
    console.log(data)
                try {
                    const response = await fetch('/students/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
    
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
    
                    const responseData = await response.json();
                    console.log(responseData);
                    window.location.href = '/';
    
                    // Handle the response accordingly (redirect, display a message, etc.)
                } catch (error) {
                    console.error('There was an error!', error);
                    // Handle errors here
                }
            }
        </script>

